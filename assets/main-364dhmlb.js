import{l as y}from"./utils-D7H65duc.js";async function E(t){const e=`https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/findByIngredients?ingredients=${t}&number=5&ignorePantry=true&ranking=1`,n={method:"GET",headers:{"x-rapidapi-key":"8f7d15956bmsh82f729e7fd5f293p1b21f5jsnfd79336ba52c","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com"}};try{const a=await(await fetch(e,n)).json();return console.log(a),a}catch(s){return console.error(s),[]}}async function B(t){const e=`https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/${t}/information`,n={method:"GET",headers:{"x-rapidapi-key":"8f7d15956bmsh82f729e7fd5f293p1b21f5jsnfd79336ba52c","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com"}};try{const a=await(await fetch(e,n)).json();return console.log(a),a}catch(s){return console.error(s),[]}}const u=5;let o=1;function $(){return document.getElementById("recipe-section")}function f(){return document.getElementById("prev")}function h(){return document.getElementById("next")}function L(){return document.getElementById("page-numbers")}function g(){const t=$();return Array.from(t.getElementsByClassName("card-flip"))}function p(t){const e=g(),n=(t-1)*u,s=n+u;e.forEach((a,i)=>{i>=n&&i<s?a.style.display="block":a.style.display="none"})}function m(){const t=L(),e=f(),n=h(),s=g(),a=Math.ceil(s.length/u);t.textContent=`Page ${o} of ${a}`,e.disabled=o===1,n.disabled=o===a}function v(){const t=f(),e=h();t.addEventListener("click",()=>{o>1&&(o--,p(o),m())}),e.addEventListener("click",()=>{const n=g(),s=Math.ceil(n.length/u);o<s&&(o++,p(o),m())})}async function C(t){const e=t.missedIngredientCount+1,n=document.createElement("div");n.classList.add("card-flip");const s=document.createElement("div");s.classList.add("card-flip-inner");const a=document.createElement("div");a.classList.add("recipe-card"),a.innerHTML=`<img src="${t.image}" alt="${t.title}" width="312" height="231"> </div>`;const i=document.createElement("div");i.classList.add("card-flip-back"),i.innerHTML=`<h2>${t.title}</h2>
            <p>Number of Ingredients: ${e}
            <div class="likes">
            <button class="like-button" data-item-id="${t.id}"> ❤️ Like </button>
            <span class="like-count" >${t.likes}</span>
            <button type="button" class="recipeButton" data-id="${t.id}">Learn More</button>
            </div>`;const b=i.querySelector(".like-button"),c=i.querySelector(".like-count"),I=i.querySelector(".recipeButton");b.addEventListener("click",d=>{const l=d.target.getAttribute("data-item-id");if(localStorage.getItem(`liked - ${l} `)){alert("You've liked this!");let r=parseInt(c.textContent,10);c.textContent=r+1}else{let r=parseInt(c.textContent,10);c.textContent=r+1,localStorage.setItem(`liked - ${l} `,!0),alert("you liked this already")}d.target.disabled=!0}),I.addEventListener("click",d=>{const l=d.target.getAttribute("data-id");try{S(l)}catch(r){console.error(r)}}),s.appendChild(a),s.appendChild(i),n.appendChild(s),document.querySelector("#recipe-section").appendChild(n)}async function x(t){const e=document.createElement("div");e.classList.add("modal");const n=document.createElement("div");n.classList.add("modal-inner"),n.innerHTML=`<span id="closeBtn" class="close">&times;</span><h2>${t.title}</h2>
    <img class="modal-img" src="${t.image}" alt="${t.title}" loading=lazy>
            <div class="info-container">
                <div class="info"><p class="time">${t.readyInMinutes}</p><p>Minutes</p></div>
                <div class="info"><p class="ingredients">${t.servings}</p><p>Servings</p></div>
                <div class="info"><p class="serving">${t.extendedIngredients.length}</p><p>Ingredients</p></div>
    
               
            </div>
        <div class="allergies">
            <p>Gluten Free: ${t.glutenFree}</p>
            <p>Vegan: ${t.vegan}</p>
            <p>Vegetarian: ${t.vegetarian}</p>
            <p>Healthy: ${t.veryHealthy}</p>
        </div>
     <p>${t.instructions}</p>
     <p>Gluten Free: ${t.summary}</p>
                     <button type="button" id="saveWatchlist" class="saveWatchlist"">Add to WatchList</button>`,e.appendChild(n),document.querySelector("#modal").appendChild(e),n.querySelector("#closeBtn").addEventListener("click",()=>{e.style.display="none"}),window.addEventListener("click",i=>{i.target===e&&(e.style.display="none")}),n.querySelector("#saveWatchlist").addEventListener("click",()=>{let i=JSON.parse(localStorage.getItem("watchlist"))||[];i.push({name:t.title,image:t.image,minutes:t.readyInMinutes,servings:t.servings,ingredients:t.extendedIngredients.length,gluten:t.glutenFree,vegan:t.vegan,vegetarian:t.vegetarian,healthy:t.veryHealthy,instruction:t.instructions,summary:t.summary}),localStorage.setItem("watchlist",JSON.stringify(i))}),e.style.display="block"}async function S(t){const e=await B(t);x(e)}async function k(t){const e=await E(t),n=document.getElementById("recipe-section");n.innerHTML="",e.forEach(s=>{C(s)}),v(),p(1),m()}document.getElementById("search-button").addEventListener("click",async()=>{const t=document.getElementById("search").value;if(!t){alert("Enter Ingredients");return}const e=document.getElementById("recipe-section");e.innerHTML="",k(t)});y("#header-section","/tastetrack/src/components/header.html");y("#footer-section","/tastetrack/src/components/footer.html");v();k("egg");
