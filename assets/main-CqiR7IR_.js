import{l as h}from"./utils-DXdLGH_B.js";async function I(e){const t=`https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/findByIngredients?ingredients=${e}&number=2&ignorePantry=true&ranking=1`,n={method:"GET",headers:{"x-rapidapi-key":"5cc3bd66acmsh84b895e12428c9fp1ffb72jsn41edcff63d37","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com"}};try{const a=await(await fetch(t,n)).json();return console.log(a),a}catch(s){return console.error(s),[]}}async function L(e){const t=`https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/${e}/information`,n={method:"GET",headers:{"x-rapidapi-key":"5cc3bd66acmsh84b895e12428c9fp1ffb72jsn41edcff63d37","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com"}};try{const a=await(await fetch(t,n)).json();return console.log(a),a}catch(s){return console.error(s),[]}}const u=5;let i=1;function B(){return document.getElementById("recipe-section")}function y(){return document.getElementById("prev")}function f(){return document.getElementById("next")}function $(){return document.getElementById("page-numbers")}function g(){const e=B();return Array.from(e.getElementsByClassName("card-flip"))}function p(e){const t=g(),n=(e-1)*u,s=n+u;t.forEach((a,o)=>{o>=n&&o<s?a.style.display="block":a.style.display="none"})}function m(){const e=$(),t=y(),n=f(),s=g(),a=Math.ceil(s.length/u);e.textContent=`Page ${i} of ${a}`,t.disabled=i===1,n.disabled=i===a}function v(){const e=y(),t=f();e.addEventListener("click",()=>{i>1&&(i--,p(i),m())}),t.addEventListener("click",()=>{const n=g(),s=Math.ceil(n.length/u);i<s&&(i++,p(i),m())})}async function S(e){const t=e.missedIngredientCount+1,n=document.createElement("div");n.classList.add("card-flip");const s=document.createElement("div");s.classList.add("card-flip-inner");const a=document.createElement("div");a.classList.add("recipe-card"),a.innerHTML=`<img src="${e.image}" alt="${e.title}" width="312" height="231"> </div>`;const o=document.createElement("div");o.classList.add("card-flip-back"),o.innerHTML=`<h2>${e.title}</h2>
            <p>Number of Ingredients: ${t}
            <div class="likes">
            <button class="like-button" data-item-id="${e.id}"> ❤️ Like </button>
            <span class="like-count" >${e.likes}</span>
            <button type="button" class="recipeButton" data-id="${e.id}">Learn More</button>
            </div>`;const k=o.querySelector(".like-button"),r=o.querySelector(".like-count"),E=o.querySelector(".recipeButton");k.addEventListener("click",l=>{const d=l.target.getAttribute("data-item-id");if(localStorage.getItem(`liked - ${d} `)){alert("You've liked this!");let c=parseInt(r.textContent,10);r.textContent=c+1}else{let c=parseInt(r.textContent,10);r.textContent=c+1,localStorage.setItem(`liked - ${d} `,!0),alert("you liked this already")}l.target.disabled=!0}),E.addEventListener("click",l=>{const d=l.target.getAttribute("data-id");try{q(d)}catch(c){console.error(c)}}),s.appendChild(a),s.appendChild(o),n.appendChild(s),document.querySelector("#recipe-section").appendChild(n)}async function C(e){const t=document.createElement("div");t.classList.add("modal");const n=document.createElement("div");n.classList.add("modal-inner"),n.innerHTML=`<span id="closeBtn" class="close">&times;</span><h2>${e.title}</h2>
    <img class="modal-img" src="${e.image}" alt="${e.title}" loading=lazy>
            <div class="info-container">
                <div class="info"><p class="time">${e.readyInMinutes}</p><p>Minutes</p></div>
                <div class="info"><p class="ingredients">${e.servings}</p><p>Servings</p></div>
                <div class="info"><p class="serving">${e.extendedIngredients.length}</p><p>Ingredients</p></div>
    
               
            </div>
        <div class="allergies">
            <p>Gluten Free: ${e.glutenFree}</p>
            <p>Vegan: ${e.vegan}</p>
            <p>Vegetarian: ${e.vegetarian}</p>
            <p>Healthy: ${e.veryHealthy}</p>
        </div>
     <p>${e.instructions}</p>
     <p>Gluten Free: ${e.summary}</p>
                     <button type="button" id="saveWatchlist" class="saveWatchlist"">Add to WatchList</button>`,t.appendChild(n),document.querySelector("#modal").appendChild(t),n.querySelector("#closeBtn").addEventListener("click",()=>{t.style.display="none"}),window.addEventListener("click",o=>{o.target===t&&(t.style.display="none")}),n.querySelector("#saveWatchlist").addEventListener("click",()=>{let o=JSON.parse(localStorage.getItem("watchlist"))||[];o.push({name:e.title,image:e.image,minutes:e.readyInMinutes,servings:e.servings,ingredients:e.extendedIngredients.length,gluten:e.glutenFree,vegan:e.vegan,vegetarian:e.vegetarian,healthy:e.veryHealthy,instruction:e.instructions,summary:e.summary}),localStorage.setItem("watchlist",JSON.stringify(o))}),t.style.display="block"}async function q(e){const t=await L(e);C(t)}async function b(e){const t=await I(e),n=document.getElementById("recipe-section");n.innerHTML="",t.forEach(s=>{S(s)}),v(),p(1),m()}document.getElementById("search-button").addEventListener("click",async()=>{const e=document.getElementById("search").value;if(!e){alert("Enter Ingredients");return}const t=document.getElementById("recipe-section");t.innerHTML="",b(e)});h("#header-section","/tastetrack/src/components/header.html").then(()=>{const e=document.querySelector("#hamburger-menu");e&&(console.log("hamburger menu found "),e.addEventListener("click",()=>{x()}))});h("#footer-section","/tastetrack/src/components/footer.html");function x(){const e=document.querySelector("nav ul"),t=document.querySelector("#hamburger-x"),n=document.querySelector("#hamburger-equal");e.classList.toggle("menu-active"),t.classList.toggle("hidden"),n.classList.toggle("hidden")}v();b("egg");
