import{l as y}from"./utils-CpSS0xmB.js";async function E(e){const t=`https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/findByIngredients?ingredients=${e}&number=2&ignorePantry=true&ranking=1`,n={method:"GET",headers:{"x-rapidapi-key":"5cc3bd66acmsh84b895e12428c9fp1ffb72jsn41edcff63d37","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com"}};try{return await(await fetch(t,n)).json()}catch(a){return console.error(a),[]}}async function L(e){const t=`https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/${e}/information`,n={method:"GET",headers:{"x-rapidapi-key":"5cc3bd66acmsh84b895e12428c9fp1ffb72jsn41edcff63d37","x-rapidapi-host":"spoonacular-recipe-food-nutrition-v1.p.rapidapi.com"}};try{return await(await fetch(t,n)).json()}catch(a){return console.error(a),[]}}const p=5;let o=1;function B(){return document.getElementById("recipe-section")}function f(){return document.getElementById("prev")}function v(){return document.getElementById("next")}function $(){return document.getElementById("page-numbers")}function h(){const e=B();return Array.from(e.getElementsByClassName("card-flip"))}function m(e){const t=h(),n=(e-1)*p,a=n+p;t.forEach((i,s)=>{s>=n&&s<a?i.style.display="block":i.style.display="none"})}function g(){const e=$(),t=f(),n=v(),a=h(),i=Math.ceil(a.length/p);e.textContent=`Page ${o} of ${i}`,t.disabled=o===1,n.disabled=o===i}function b(){const e=f(),t=v();e.addEventListener("click",()=>{o>1&&(o--,m(o),g())}),t.addEventListener("click",()=>{const n=h(),a=Math.ceil(n.length/p);o<a&&(o++,m(o),g())})}async function C(e){const t=e.missedIngredientCount+1,n=document.createElement("div");n.classList.add("card-flip");const a=document.createElement("div");a.classList.add("card-flip-inner");const i=document.createElement("div");i.classList.add("recipe-card"),i.innerHTML=`<img src="${e.image}" alt="${e.title}" width="600" height="400"> </div>`;const s=document.createElement("div");s.classList.add("card-flip-back"),s.innerHTML=`<h2>${e.title}</h2>
            <p>Number of Ingredients: ${t}
            <div class="likes">
            <button class="like-button" data-item-id="${e.id}"> ❤️ Like </button>
            <span class="like-count" >${e.likes}</span>
            <button type="button" class="recipeButton" data-id="${e.id}">Learn More</button>
            </div>`;const r=s.querySelector(".like-button"),d=s.querySelector(".like-count"),I=s.querySelector(".recipeButton");r.addEventListener("click",l=>{const u=l.target.getAttribute("data-item-id");if(localStorage.getItem(`liked-${u}`)){alert("you liked this already!");let c=parseInt(d.textContent,10);d.textContent=c+1}else{let c=parseInt(d.textContent,10);d.textContent=c+1,localStorage.setItem(`liked-${u}`,!0),alert("you like this!")}l.target.disabled=!0}),I.addEventListener("click",l=>{const u=l.target.getAttribute("data-id");try{x(u)}catch(c){console.error(c)}}),a.appendChild(i),a.appendChild(s),n.appendChild(a),document.querySelector("#recipe-section").appendChild(n)}async function S(e){const t=document.createElement("div");t.classList.add("modal");const n=document.createElement("div");n.classList.add("modal-inner"),n.innerHTML=`<span id="closeBtn" class="close">&times;</span><h2>${e.title}</h2>
    <img class="modal-img" src="${e.image}" alt="${e.title}" loading=lazy width="600" height="400">
            <div class="info-container">
                <div class="info"><p class="time">${e.readyInMinutes}</p><p>Minutes</p></div>
                <div class="info"><p class="ingredients">${e.servings}</p><p>Servings</p></div>
                <div class="info"><p class="serving">${e.extendedIngredients.length}</p><p>Ingredients</p></div>
    
               
            </div>
        <div class="allergies">
            <p>Gluten Free: ${e.glutenFree}</p>
            <p>Vegan: ${e.vegan}</p>
            <p>Vegetarian: ${e.vegetarian}</p>
            <p>Healthy: ${e.veryHealthy}</p>
        </div>
     <p>${e.instructions}</p>
     <p>Gluten Free: ${e.summary}</p>
                     <button type="button" id="saveWatchlist" class="saveWatchlist"">Add to WatchList</button>`,t.appendChild(n),document.querySelector("#modal").appendChild(t),n.querySelector("#closeBtn").addEventListener("click",()=>{t.style.display="none"}),window.addEventListener("click",s=>{s.target===t&&(t.style.display="none")}),n.querySelector("#saveWatchlist").addEventListener("click",()=>{let s=JSON.parse(localStorage.getItem("watchlist"))||[];s.push({name:e.title,image:e.image,minutes:e.readyInMinutes,servings:e.servings,ingredients:e.extendedIngredients.length,eachingredient:e.extendedIngredients.map(r=>r.nameClean),gluten:e.glutenFree,vegan:e.vegan,preparation:e.extendedIngredients.map(r=>r.original),vegetarian:e.vegetarian,healthy:e.veryHealthy,instruction:e.instructions,summary:e.summary}),localStorage.setItem("watchlist",JSON.stringify(s))}),t.style.display="block"}async function x(e){const t=await L(e);S(t)}async function k(e){const t=await E(e),n=document.getElementById("recipe-section");n.innerHTML="",t.forEach(a=>{C(a)}),b(),m(1),g()}document.getElementById("search-button").addEventListener("click",async()=>{const e=document.getElementById("search").value;if(!e){alert("Enter Ingredients");return}const t=document.getElementById("recipe-section");t.innerHTML="",k(e)});y("#header-section","/tastetrack/src/components/header.html").then(()=>{const e=document.querySelector("#hamburger-menu");e&&e.addEventListener("click",()=>{q()})});y("#footer-section","/tastetrack/src/components/footer.html");function q(){const e=document.querySelector("nav ul"),t=document.querySelector("#hamburger-x"),n=document.querySelector("#hamburger-equal");e.classList.toggle("menu-active"),t.classList.toggle("hidden"),n.classList.toggle("hidden")}b();k("egg");
